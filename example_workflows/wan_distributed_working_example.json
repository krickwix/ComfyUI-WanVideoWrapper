{
  "id": "wan-distributed-working-example",
  "revision": 0,
  "last_node_id": 10,
  "last_link_id": 12,
  "nodes": [
    {
      "id": 1,
      "type": "WanDistributedConfig",
      "pos": [100, 100],
      "size": {"0": 300, "1": 400},
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": {
        "world_size": 1,
        "rank": 0,
        "backend": "nccl",
        "use_fsdp": false,
        "use_context_parallel": false,
        "ulysses_size": 1,
        "ring_size": 1,
        "t5_fsdp": false,
        "dit_fsdp": false,
        "use_usp": false,
        "t5_cpu": false,
        "param_dtype": "bfloat16",
        "reduce_dtype": "float32",
        "buffer_dtype": "float32",
        "sharding_strategy": "FULL_SHARD",
        "sync_module_states": true
      },
      "properties": {},
      "widgets_values": [
        1, 0, "nccl", false, false, 1, 1, false, false, false, false, "bfloat16", "float32", "float32", "FULL_SHARD", true
      ]
    },
    {
      "id": 2,
      "type": "WanDistributedModelLoader",
      "pos": [500, 100],
      "size": {"0": 300, "1": 300},
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": {
        "model": "wan2.1_14b.safetensors",
        "base_precision": "bf16",
        "wan_distributed_config": ["WANDISTRIBUTEDCONFIG", 1],
        "attention_mode": "sdpa",
        "lora": null,
        "vace_model": null
      },
      "properties": {},
      "widgets_values": ["wan2.1_14b.safetensors", "bf16", "sdpa"]
    },
    {
      "id": 3,
      "type": "LoadWanVideoT5TextEncoder",
      "pos": [100, 600],
      "size": {"0": 317, "1": 130},
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": {
        "model_name": "umt5_xxl_fp16.safetensors",
        "precision": "bf16",
        "load_device": "offload_device",
        "quantization": "disabled"
      },
      "properties": {},
      "widgets_values": ["umt5_xxl_fp16.safetensors", "bf16", "offload_device", "disabled"]
    },
    {
      "id": 4,
      "type": "WanVideoEmptyEmbeds",
      "pos": [500, 600],
      "size": {"0": 272, "1": 126},
      "flags": {},
      "order": 3,
      "mode": 0,
      "inputs": {
        "control_embeds": null,
        "extra_latents": null,
        "width": 832,
        "height": 480,
        "num_frames": 81
      },
      "properties": {},
      "widgets_values": [832, 480, 81]
    },
    {
      "id": 5,
      "type": "WanT2V",
      "pos": [900, 100],
      "size": {"0": 300, "1": 400},
      "flags": {},
      "order": 4,
      "mode": 0,
      "inputs": {
        "model": ["WANVIDEOMODEL", 2],
        "wan_t5_model": ["WANTEXTENCODER", 3],
        "image_embeds": ["WANVIDIMAGE_EMBEDS", 4],
        "prompt": "A beautiful sunset over the ocean with waves crashing on the shore",
        "negative_prompt": "",
        "width": 832,
        "height": 480,
        "num_frames": 81,
        "num_steps": 50,
        "guidance_scale": 5.0,
        "seed": 42
      },
      "properties": {},
      "widgets_values": [
        "A beautiful sunset over the ocean with waves crashing on the shore",
        "",
        832,
        480,
        81,
        50,
        5.0,
        42
      ]
    },
    {
      "id": 6,
      "type": "WanVideoVAELoader",
      "pos": [500, 800],
      "size": {"0": 270, "1": 106},
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": {
        "model_name": "wan_vae.safetensors",
        "precision": "bf16"
      },
      "properties": {},
      "widgets_values": ["wan_vae.safetensors", "bf16"]
    },
    {
      "id": 7,
      "type": "WanVideoDecode",
      "pos": [1300, 100],
      "size": {"0": 270, "1": 198},
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": {
        "vae": ["WANVAE", 6],
        "samples": ["LATENT", 5],
        "enable_vae_tiling": false,
        "tile_x": 272,
        "tile_y": 272,
        "tile_stride_x": 144,
        "tile_stride_y": 128,
        "normalization": "default"
      },
      "properties": {},
      "widgets_values": [false, 272, 272, 144, 128, "default"]
    },
    {
      "id": 8,
      "type": "SaveVideo",
      "pos": [1600, 100],
      "size": {"0": 200, "1": 100},
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": {
        "video": ["VIDEO", 7],
        "filename_prefix": "wan_distributed_output"
      },
      "properties": {},
      "widgets_values": ["wan_distributed_output"]
    }
  ],
  "links": [
    [1, 1, 0, 2, 2],
    [2, 2, 0, 5, 0],
    [3, 3, 0, 5, 1],
    [4, 4, 0, 5, 2],
    [5, 5, 0, 7, 1],
    [6, 6, 0, 7, 0],
    [7, 7, 0, 8, 0]
  ],
  "groups": [],
  "config": {},
  "extra": {},
  "version": 0.4
} 